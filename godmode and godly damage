local function applyDamageWithAttackSpeed(damage, attackSpeed, godModeEnabled)
    while true do
        if not godModeEnabled then
            print("Damage applied:", damage)
        else
            print("Damage applied (God mode enabled):", damage)
        end
        wait(attackSpeed)
    end
end

local damage = 20000
local attackSpeed = 5.21
local godModeEnabled = true

local icon = Instance.new("ImageButton")
icon.Image = "rbxassetid://5009915812"
icon.Size = UDim2.new(0, 100, 0, 100)
icon.Position = UDim2.new(0.5, -50, 0.5, -50)
icon.BackgroundTransparency = 1
icon.Parent = game.Players.LocalPlayer:WaitForChild("PlayerGui")

local button = Instance.new("TextButton")
button.Text = "Toggle God Mode"
button.Size = UDim2.new(0, 200, 0, 50)
button.Position = UDim2.new(0.5, -100, 0.6, -25)
button.Visible = false
button.Parent = game.Players.LocalPlayer:WaitForChild("PlayerGui")

icon.MouseButton1Click:Connect(function()
    icon.Visible = false
    button.Visible = true
end)

button.MouseButton1Click:Connect(function()
    godModeEnabled = not godModeEnabled
    print("God mode:", godModeEnabled)
    if godModeEnabled then
        button.Text = "God Mode Enabled"
    else
        button.Text = "God Mode Disabled"
    end
    local success, errorMsg = pcall(applyDamageWithAttackSpeed, damage, attackSpeed, godModeEnabled)
    if not success then
        warn("Failed to execute damage application script: " .. errorMsg)
    end
end)

applyDamageWithAttackSpeed(damage, attackSpeed, godModeEnabled)
